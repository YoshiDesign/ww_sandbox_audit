import React, {useContext} from 'react'
import { MapDataContext } from '../../../../context/MapDataContext'

import {
    StyledNautilusContainer,
    ButtonOne,
    StyledActiveSVG
} from '../../../style/styled'

function NautFooter(props) {

    const MDC = useContext(MapDataContext)

    return (
        <>
        
            <StyledNautilusContainer>

                {/* Left Gear Icon */}
                <ButtonOne id="lb" primary onClick={ (e) => {

                    if ( ! MDC.nautState.lp == false) {

                        MDC.mapDispatch({
                            type: "RESET_MOBILE_HOME",
                        })

                    }
                    if ( ! MDC.nautState.lp == true) {
                        if (window.location.pathname == "/map/home"){
                            MDC.mapDispatch({
                                type: "ACTIVATE_MOBILE_HOME",
                            })
                        }

                    }
                    
                    MDC.updateNautState({...MDC.nautState,
                        naut_open: !MDC.nautState.lp || MDC.nautState.rp || MDC.nautState.ip || false,
                        ip: false,
                        rp: false,
                        lp: !MDC.nautState.lp,
                        left_spin: !MDC.nautState.left_spin,
                        right_spin: MDC.nautState.rp ? !MDC.nautState.right_spin : MDC.nautState.right_spin,
                    })

                } } >
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="#eee" preserveAspectRatio="xMidYMid meet" className={String("fl-tr pl flip-h ") + String(MDC.nautState.lp ? "active-fill" : "")} focusable="false"><g>
                        <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path>
                        </g>
                    </svg>
                    <StyledActiveSVG 
                        spin={MDC.nautState.left_spin}
                        left
                        id="lt-cog" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="transparent" stroke="white"><path d="M7.03093403,10 C7.03093403,8.36301971 8.36301971,7.03093403 10,7.03093403 C11.6369803,7.03093403 12.9679409,8.36301971 12.9679409,10 C12.9679409,11.6369803 11.6369803,12.969066 10,12.969066 C8.36301971,12.969066 7.03093403,11.6369803 7.03093403,10 M16.4016617,8.49127796 C16.2362761,7.79148295 15.9606334,7.13669084 15.5916096,6.5437777 L16.5231696,5.06768276 C16.7526843,4.70315931 16.7684353,4.22387849 16.5231696,3.83572852 C16.1833977,3.29794393 15.4712269,3.13593351 14.9323172,3.47683044 L13.4562223,4.40839036 C12.8633092,4.03936662 12.208517,3.76259882 11.508722,3.59833825 L11.1250724,1.89947899 C11.0294412,1.47982699 10.7020452,1.12992949 10.2542664,1.02867298 C9.63322641,0.888038932 9.01556168,1.27843904 8.87492764,1.89947899 L8.49127796,3.59833825 C7.79148295,3.76259882 7.13669084,4.03936662 6.54265263,4.40726528 L5.06768276,3.47683044 C4.70315931,3.24731568 4.22387849,3.23156466 3.83572852,3.47683044 C3.29794393,3.81660229 3.13593351,4.5287731 3.47683044,5.06768276 L4.40726528,6.54265263 C4.03936662,7.13669084 3.76259882,7.79148295 3.59721318,8.49127796 L1.89947899,8.87492764 C1.47982699,8.97055879 1.12992949,9.29795485 1.02867298,9.74573365 C0.888038932,10.3667736 1.27843904,10.9844383 1.89947899,11.1250724 L3.59721318,11.508722 C3.76259882,12.208517 4.03936662,12.8633092 4.40726528,13.4573474 L3.47683044,14.9323172 C3.24731568,15.2968407 3.23156466,15.7761215 3.47683044,16.1642715 C3.81660229,16.7020561 4.5287731,16.8640665 5.06768276,16.5231696 L6.54265263,15.5927347 C7.13669084,15.9606334 7.79148295,16.2374012 8.49127796,16.4016617 L8.87492764,18.100521 C8.97055879,18.520173 9.29795485,18.8700705 9.74573365,18.971327 C10.3667736,19.1119611 10.9844383,18.721561 11.1250724,18.100521 L11.508722,16.4016617 C12.208517,16.2374012 12.8633092,15.9606334 13.4562223,15.5916096 L14.9323172,16.5231696 C15.2968407,16.7526843 15.7749964,16.7684353 16.1631464,16.5231696 C16.7020561,16.1833977 16.8629414,15.4712269 16.5231696,14.9323172 L15.5916096,13.4562223 C15.9606334,12.8633092 16.2362761,12.208517 16.4016617,11.508722 L18.100521,11.1250724 C18.520173,11.0294412 18.8700705,10.7020452 18.971327,10.2542664 C19.1119611,9.63322641 18.721561,9.01556168 18.100521,8.87492764 L16.4016617,8.49127796 Z"></path></g>
                    </StyledActiveSVG>
                </ButtonOne>

                <ButtonOne tertiary id="ib" className={MDC.mapState.info_pane ? "gflx" : ""} onClick={ (e) => {

                    if (!MDC.nautState.lp && !MDC.nautState.rp) {
                        MDC.mapState.theMap.reset()
                        try {
                            document.getElementById("no-info-pane").classList.add('hide-me')
                        } catch(err){}

                    }

                    MDC.mapDispatch({...MDC.mapState,
                        naut_open: !MDC.mapState.info_pane || MDC.mapState.left_pane || MDC.mapState.right_pane || false,
                        info_pane: !MDC.mapState.info_pane,
                        type: "HANDLE_PANE_INFO"
                    })
                        //
                } } >
                    <StyledActiveSVG 
                        className=""
                        // spin={NSC.nautState.spinLeft}
                        opaque
                        center
                        id="md-cog" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="white"><path d="M12 19.344l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 19.344z"></path><path d="M12 11.535l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 11.535z"></path></g>
                    </StyledActiveSVG>
                </ButtonOne>

                {/* Right Gear Icon */}
                <ButtonOne id="rb" secondary onClick={ (e) => {

                    if (MDC.nautState.lp == true) {

                        MDC.mapDispatch({
                            type: "RESET_MOBILE_HOME",
                        })

                    }
                    
                    MDC.updateNautState({...MDC.nautState,
                        naut_open: !MDC.nautState.rp || MDC.nautState.lp || MDC.nautState.ip || false,
                        rp: !MDC.nautState.rp,
                        ip: false,
                        lp: false,
                        right_spin: !MDC.nautState.right_spin,
                        left_spin: MDC.nautState.lp ? !MDC.nautState.left_spin : MDC.nautState.left_spin,
                        // type: "HANDLE_PANE"
                    })
                        //
                } } >
                    <StyledActiveSVG 
                        spin={MDC.nautState.right_spin}
                        right
                        id="rt-cog" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="transparent" stroke="white"><path d="M7.03093403,10 C7.03093403,8.36301971 8.36301971,7.03093403 10,7.03093403 C11.6369803,7.03093403 12.9679409,8.36301971 12.9679409,10 C12.9679409,11.6369803 11.6369803,12.969066 10,12.969066 C8.36301971,12.969066 7.03093403,11.6369803 7.03093403,10 M16.4016617,8.49127796 C16.2362761,7.79148295 15.9606334,7.13669084 15.5916096,6.5437777 L16.5231696,5.06768276 C16.7526843,4.70315931 16.7684353,4.22387849 16.5231696,3.83572852 C16.1833977,3.29794393 15.4712269,3.13593351 14.9323172,3.47683044 L13.4562223,4.40839036 C12.8633092,4.03936662 12.208517,3.76259882 11.508722,3.59833825 L11.1250724,1.89947899 C11.0294412,1.47982699 10.7020452,1.12992949 10.2542664,1.02867298 C9.63322641,0.888038932 9.01556168,1.27843904 8.87492764,1.89947899 L8.49127796,3.59833825 C7.79148295,3.76259882 7.13669084,4.03936662 6.54265263,4.40726528 L5.06768276,3.47683044 C4.70315931,3.24731568 4.22387849,3.23156466 3.83572852,3.47683044 C3.29794393,3.81660229 3.13593351,4.5287731 3.47683044,5.06768276 L4.40726528,6.54265263 C4.03936662,7.13669084 3.76259882,7.79148295 3.59721318,8.49127796 L1.89947899,8.87492764 C1.47982699,8.97055879 1.12992949,9.29795485 1.02867298,9.74573365 C0.888038932,10.3667736 1.27843904,10.9844383 1.89947899,11.1250724 L3.59721318,11.508722 C3.76259882,12.208517 4.03936662,12.8633092 4.40726528,13.4573474 L3.47683044,14.9323172 C3.24731568,15.2968407 3.23156466,15.7761215 3.47683044,16.1642715 C3.81660229,16.7020561 4.5287731,16.8640665 5.06768276,16.5231696 L6.54265263,15.5927347 C7.13669084,15.9606334 7.79148295,16.2374012 8.49127796,16.4016617 L8.87492764,18.100521 C8.97055879,18.520173 9.29795485,18.8700705 9.74573365,18.971327 C10.3667736,19.1119611 10.9844383,18.721561 11.1250724,18.100521 L11.508722,16.4016617 C12.208517,16.2374012 12.8633092,15.9606334 13.4562223,15.5916096 L14.9323172,16.5231696 C15.2968407,16.7526843 15.7749964,16.7684353 16.1631464,16.5231696 C16.7020561,16.1833977 16.8629414,15.4712269 16.5231696,14.9323172 L15.5916096,13.4562223 C15.9606334,12.8633092 16.2362761,12.208517 16.4016617,11.508722 L18.100521,11.1250724 C18.520173,11.0294412 18.8700705,10.7020452 18.971327,10.2542664 C19.1119611,9.63322641 18.721561,9.01556168 18.100521,8.87492764 L16.4016617,8.49127796 Z"></path></g>
                    </StyledActiveSVG>

                    <svg viewBox="0 0 24 24" width="24" height="24" fill="#eee" className={String("pr ") + String(MDC.nautState.rp ? "active-fill" : "")} preserveAspectRatio="xMidYMid meet" focusable="false"><g>
                        <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path>
                        </g>
                    </svg>

                </ButtonOne>

                {/* <div className="cpy"><span>&copy; {this.year.getFullYear()} YoshiDesign</span></div> */}

            </StyledNautilusContainer>

        </>
    )

}

export default NautFooter
